Compilation is easy with the following command

g++ Script.C NewickReader.C GeneTree.C -g -o reformatSpeciesTree 

The usage is simply: ./reformatSpeciesTree <newick_species_tree_file>

For example:

./reformatSpeciesTree ../../results/orthology_39species_OrthoFinder/species.stree 
Anc2	left	Anc1
solanum_lycopersicum	right	Anc1
Anc3	left	Anc2
vitis_vinifera	right	Anc2
Anc4	left	Anc3
Anc38	right	Anc3
Anc5	left	Anc4
Anc37	right	Anc4
Anc6	left	Anc5
Anc16	right	Anc5
Anc7	left	Anc6
cercis_canadensis	right	Anc6
Anc8	left	Anc7
Anc10	right	Anc7
medicago_truncatula	left	Anc8
Anc9	right	Anc8
arachis_ipaensis	left	Anc9
nissolia_schottii	right	Anc9
mimosa_pudica	left	Anc10
Anc11	right	Anc10
Anc12	left	Anc11
Anc14	right	Anc11
Anc13	left	Anc12
chamaecrista_stricta	right	Anc12
chamaecrista_fasciculata	left	Anc13
chamaecrista_mimosoides	right	Anc13
senna_alexandrina	left	Anc14
Anc15	right	Anc14
senna_occidentalis	left	Anc15
senna_uniflora	right	Anc15
Anc17	left	Anc16
Anc25	right	Anc16
Anc18	left	Anc17
Anc21	right	Anc17
Anc19	left	Anc18
Anc20	right	Anc18
purshia_tridentata	left	Anc19
purshia_tridentata_V	right	Anc19
dryas_drummondii	left	Anc20
dryas_octopetala	right	Anc20
rhamnus_californica	left	Anc21
Anc22	right	Anc21
Anc23	left	Anc22
ziziphus_jujuba	right	Anc22
Anc24	left	Anc23
emmenosperma_pancherianum	right	Anc23
discaria_trinervis	left	Anc24
ceanothus_thyrsiflorus	right	Anc24
Anc26	left	Anc25
Anc32	right	Anc25
Anc27	left	Anc26
Anc28	right	Anc26
fagus_sylvatica	left	Anc27
castanea_mollissima	right	Anc27
juglans_regia	left	Anc28
Anc29	right	Anc28
casuarina_glauca	left	Anc29
Anc30	right	Anc29
alnus_glutinosa	left	Anc30
Anc31	right	Anc30
betula_nana	left	Anc31
betula_pendula	right	Anc31
Anc33	left	Anc32
Anc36	right	Anc32
Anc34	left	Anc33
momordica_charantia	right	Anc33
citrullus_lanatus	left	Anc34
Anc35	right	Anc34
cucumis_sativus	left	Anc35
cucumis_melo	right	Anc35
datisca_glomerata	left	Anc36
begonia_fuchsioides	right	Anc36
linum_usitatissimum	left	Anc37
populus_trichocarpa	right	Anc37
eucalyptus_grandis	left	Anc38
arabidopsis_thaliana	right	Anc38

The output print ed out can be saved to a file and used as input to Arboretum, GenGenesInOrthos, or some of our other tools. 

The numbering of the ancestral starts with 1 for the last common ancestor. 
